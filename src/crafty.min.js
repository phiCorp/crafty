const Selector=function(){let e={$:function(e){let t=e,s={get STYLE(){return e.style},TEXT:function(t=null){return null===t?e.innerText:e.innerText=t},HTML:function(t=null){return null===t?e.innerHTML:e.innerHTML=t},VAL:function(t=null){return null===t?e.value:e.value=t},ATTR:function(t,s=null){return null===s?e.getAttribute(t):e.setAttribute(t,s)},CSS:function(t=null){return null===t?e.cssText:e.cssText=t},ADDEVENT:function(t,s){return e.addEventListener(t,s)},REMEVENT:function(t,s){return e.removeEventListener(t,s)}};return Object.keys(s).forEach(e=>t[e]=s[e]),t},ID:function(e){return $$(document.getElementById(e))},CLASS:function(e){return $$(document.getElementsByClassName(e))},TAG:function(e){return $$(document.getElementsByTagName(e))},NAME:function(e){return $$(document.getElementsByName(e))},QUERY:function(e){return $$(document.querySelector(e))},QUERYALL:function(e){return $$(document.querySelectorAll(e))},OBJ:function(e){return $$(e)},CREATE:function(e){return document.createElement(e)},CREATENS:function(e,t){return document.createElementNS(e,t)},COOKIE:function(e,t=null,s=null){if(null===t){let r=document.cookie.split(";");for(let n=0;n<r.length;n++){let a=r[n].trim();if(a.startsWith(e+"="))return a.substring(e.length+1)}return""}{let o=new Date;o.setTime(o.getTime()+864e5*s);let i="expires="+o.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}},STORAGE:function(e,t=null){return null===t?localStorage.getItem(e):localStorage.setItem(e,t)},SESTORAGE:function(e,t=null){return null===t?sessionStorage.getItem(e):sessionStorage.setItem(e,t)},WAIT:async function(e){await new Promise(t=>setTimeout(t,e))},TIMEOUT:function(e,t){setTimeout(e,t)},INTERVAL:function(e,t){setInterval(e,t)},CLEARINTERVAL:function(e){clearInterval(e)},JSON:function(e,t){return!0==t?JSON.stringify(e):JSON.parse(e)},TYPE:function(e,t=null){if(null===t)return typeof e;switch(t){case"object":return"object"==typeof e;case"string":return"string"==typeof e;case"number":return"number"==typeof e;case"boolean":return"boolean"==typeof e;case"function":return"function"==typeof e;case"undefined":return void 0===e;case"bigint":return"bigint"==typeof e;case"array":return Array.isArray(e);case"null":return null===e;case"empty":return null==e||""===e;case"defined":return null!=e;default:return!1}},CAST:function(e,t){switch(t){case"string":return String(e);case"number":return Number(e);case"int":return parseInt(e);case"float":return parseFloat(e);case"boolean":return Boolean(e);case"bigint":return BigInt(e);default:return e}},CONVERT:function(e,t,s){switch(t){case"int":return parseInt(e,s);case"string":return e.toString(s);default:return e}},AJAX:function(e){let t=new XMLHttpRequest;if(e.username&&e.password?t.open(e.method,e.url,e.async,e.username,e.password):t.open(e.method,e.url,!0),e.headers)for(let s in e.headers)t.setRequestHeader(s,e.headers[s]);if(e.token&&(e.headers.Authorization="Bearer "+e.token),e.timeout&&(t.timeout=e.timeout,t.ontimeout=function(){e.error("error 408")}),t.responseType=e.responseType||"text",t.onreadystatechange=function(){if(4===t.readyState){if(200===t.status){let s=t.response;"json"===e.responseType&&(s=JSON.parse(s)),e.success(s,t.status)}else e.error(t.statusText,t.status)}},e.cache){let r=localStorage.getItem(e.url);if(r){e.success(JSON.parse(r),200);return}}if(e.cache&&t.addEventListener("load",function(){localStorage.setItem(e.url,t.responseText)}),e.progress&&t.addEventListener("progress",function(t){e.progress(t.loaded,t.total)}),e.abort&&t.addEventListener("abort",function(){e.abort()}),e.cancel){let n=e.cancelToken;n&&n.promise.then(function(){t.abort()})}if(e.uploadProgress){let a=t.upload;a&&a.addEventListener("progress",function(t){e.uploadProgress(t.loaded,t.total)})}if(e.withCredentials&&(t.withCredentials=!0),e.beforeSend&&e.beforeSend(t),e.mimeType&&t.overrideMimeType(e.mimeType),e.transformRequest&&(e.data=e.transformRequest(e.data)),e.transformResponse&&t.addEventListener("load",function(){t.response=e.transformResponse(t.response)}),e.retry){let o=0,i=e.retryLimit||3,u=e.retryInterval||1e3;t.addEventListener("error",function(){o<i?setTimeout(function(){o++,e.username&&e.password?t.open(e.method,e.url,e.async,e.username,e.password):t.open(e.method,e.url,!0),t.send(e.data)},u):e.error(t.statusText,t.status)})}e.redirect&&t.addEventListener("load",function(){if(t.status>=300&&t.status<400){let s=t.getResponseHeader("Location");s?(e.url=s,e.username&&e.password?t.open(e.method,e.url,e.async,e.username,e.password):t.open(e.method,e.url,!0),t.send(e.data)):e.error("404")}else e.success(t.response,t.status)}),t.send(e.data)},FETCH:function(e){let t={method:e.method,headers:e.headers||{},body:e.data||null,responseType:e.responseType||"text",cache:e.cache?"default":"no-store",redirect:e.redirect?"follow":"manual"};if(e.username&&e.password&&(t.headers.Authorization="Basic "+btoa(e.username+":"+e.password)),e.token&&(t.headers.Authorization="Bearer "+e.token),e.timeout&&setTimeout(function(){e.error("error 408")},e.timeout),e.cache){let s=localStorage.getItem(e.url);s&&e.success(JSON.parse(s),200)}if(e.progress&&(t.onprogress=function(t){e.progress(t.loaded,t.total)}),e.abort){let r=new AbortController,n=r.signal;n.addEventListener("abort",function(){e.abort()})}if(e.cancel){let a=new AbortController;a.signal;let o=e.cancelToken;o&&o.promise.then(function(){a.abort()})}if(e.uploadProgress&&(t.onUploadProgress=function(t){e.uploadProgress(t.loaded,t.total)}),e.withCredentials&&(t.credentials="include"),e.beforeSend&&e.beforeSend(t),e.mimeType&&(t.headers["Content-Type"]=e.mimeType),e.transformRequest&&(t.body=e.transformRequest(t.body)),e.transformResponse&&(t.onLoad=function(){t.body=e.transformResponse(t.body)}),e.retry){let i=0,u=e.retryLimit||3,l=e.retryInterval||1e3;!function s(){fetch(e.url,t).then(function(e){if(e.status<200||e.status>=300)throw Error(e.statusText);return e}).then(function(t){return"json"===e.responseType?t.json():t.text()}).then(function(t){e.success(t,200)}).catch(function(t){i<u?(i++,setTimeout(s,l)):e.error(t.message||"Unknown error",0)})}()}else fetch(e.url,t).then(function(e){if(e.status<200||e.status>=300)throw Error(e.statusText);return e}).then(function(t){return"json"===e.responseType?t.json():t.text()}).then(function(t){e.success(t,200)}).catch(function(t){e.error(t.message||"Unknown error",0)});e.redirect&&(t.onLoad=function(){if(response.status>=300&&response.status<400){let s=response.headers.get("Location");s?(e.url=s,fetch(e.url,t).then(function(e){if(e.status<200||e.status>=300)throw Error(e.statusText);return e}).then(function(t){return"json"===e.responseType?t.json():t.text()}).then(function(t){e.success(t,200)}).catch(function(t){e.error("404")})):e.error("404")}else e.success(response.body,response.status)})},SOCKET:function(e){let t=new WebSocket(e.url);t.onopen=function(){e.onopen&&e.onopen()},t.onerror=function(t){e.onerror&&e.onerror(t)},t.onclose=function(t){e.onclose&&e.onclose(t)},t.onmessage=function(t){e.onmessage&&e.onmessage(t.data)},this.send=function(e){t.send(e)},this.close=function(){t.close()}},LOG:function(e,t=null){null===t?console.log(e):console.log(e,t)},ERROR:function(e){console.error(e)},WARN:function(e){console.warn(e)},CLEAR:function(){console.clear()}};for(let t in e)"function"==typeof e[t]&&(window["$"+t]=e[t].bind(e))}();class Http{constructor(e="fetch"){this.type=e,this.method="GET",this.url="",this.headersData={},this.bodyData=null,this.isFormData=!1}static get(e){return new Http("fetch").request("GET",e)}static post(e){return new Http("fetch").request("POST",e)}static get fetch(){return{get:e=>new Http("fetch").request("GET",e),post:e=>new Http("fetch").request("POST",e)}}static get ajax(){return{get:e=>new Http("ajax").request("GET",e),post:e=>new Http("ajax").request("POST",e)}}request(e,t){return this.method=e,this.url=t,this}setHeaders(e){return this.headersData={...this.headersData,...e},this}setBody(e){return e instanceof FormData?(this.isFormData=!0,this.bodyData=e):(this.isFormData=!1,this.bodyData=e),this}async send(){return"ajax"===this.type?this.sendAjax():this.sendFetch()}async sendFetch(){let e={method:this.method,headers:{...this.headersData}};this.bodyData&&(this.isFormData?(delete e.headers["Content-Type"],e.body=this.bodyData):(e.headers["Content-Type"]="application/json",e.body=JSON.stringify(this.bodyData)));let t=await fetch(this.url,e);if(!t.ok)throw Error(`HTTP Error: ${t.status} ${t.statusText}`);return t.json()}sendAjax(){return new Promise((e,t)=>{let s=new XMLHttpRequest;s.open(this.method,this.url,!0),Object.keys(this.headersData).forEach(e=>{s.setRequestHeader(e,this.headersData[e])}),s.onreadystatechange=function(){4===s.readyState&&(s.status>=200&&s.status<300?e(JSON.parse(s.responseText)):t(`HTTP Error: ${s.status} ${s.statusText}`))},s.onerror=function(){t("Network Error")},this.bodyData?this.isFormData?s.send(this.bodyData):(s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify(this.bodyData))):s.send()})}}class Validator{constructor(e,t={}){this.rules=e,this.errors={},this.successMessages={},this.customMessages=t}static create(e,t={}){return new Validator(e,t)}addError(e,t){this.errors[e]||(this.errors[e]=[]),this.errors[e].push(t)}addSuccessMessage(e,t){this.successMessages[e]||(this.successMessages[e]=[]),this.successMessages[e].push(t)}run(e){let t=!0;return Object.keys(this.rules).forEach(s=>{let r=this.rules[s],n=e.get(s);this.errors[s]=[],this.successMessages[s]=[],r.forEach(e=>{"string"==typeof e&&this[e]?this[e](s,n):"object"==typeof e&&e.method&&this[e.method]&&this[e.method](s,n,e.value)}),0===this.errors[s].length?this.addSuccessMessage(s,`✔️ ${s} is valid`):t=!1}),{valid:t,errors:this.errors,successMessages:this.successMessages}}getMessage(e,t){let s={required:`${e} is required.`,min:`${e} must be at least {value} characters.`,max:`${e} cannot exceed {value} characters.`,email:`${e} is not a valid email.`,alpha:`${e} must contain only letters.`,numeric:`${e} must be a number.`,persian:`${e} must contain only Persian letters.`,englishNumber:`${e} must contain only English numbers.`,persianNumber:`${e} must contain only Persian numbers.`,maxValue:`${e} cannot be greater than {value}.`,minValue:`${e} cannot be less than {value}.`,date:`${e} must be a valid date.`,url:`${e} must be a valid URL.`};return this.customMessages[e]&&this.customMessages[e][t]?this.customMessages[e][t]:s[t]||`${e} is invalid.`}required(e,t){t.trim()||this.addError(e,this.getMessage(e,"required"))}min(e,t,s){t.length<s&&this.addError(e,this.getMessage(e,"min").replace("{value}",s))}max(e,t,s){t.length>s&&this.addError(e,this.getMessage(e,"max").replace("{value}",s))}email(e,t){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||this.addError(e,this.getMessage(e,"email"))}alpha(e,t){/^[A-Za-z]+$/.test(t)||this.addError(e,this.getMessage(e,"alpha"))}numeric(e,t){t&&!/^[0-9]+$/.test(t)&&this.addError(e,this.getMessage(e,"numeric"))}persian(e,t){t&&!/^[آ-ی]+$/.test(t)&&this.addError(e,this.getMessage(e,"persian"))}englishNumber(e,t){t&&!/^[0-9]+$/.test(t)&&this.addError(e,this.getMessage(e,"englishNumber"))}persianNumber(e,t){t&&!/^[۰-۹]+$/.test(t)&&this.addError(e,this.getMessage(e,"persianNumber"))}maxValue(e,t,s){parseInt(t)>parseInt(s)&&this.addError(e,this.getMessage(e,"maxValue").replace("{value}",s))}minValue(e,t,s){parseInt(t)<parseInt(s)&&this.addError(e,this.getMessage(e,"minValue").replace("{value}",s))}isValid(){return Object.keys(this.errors).every(e=>0===this.errors[e].length)}}function gbi(e){let t=document.getElementById(e);return t||(console.warn(`${e} not found!`),null)}function exists(e){return null!==document.querySelector(e)}function docTitle(e){document.title=e}function disable(e){e.disabled=!0}function enable(e){e.disabled=!1}function disableAllInputs(e){let t=e.querySelectorAll("input, select, textarea");t.forEach(e=>e.disabled=!0)}function enableAllInputs(e){let t=e.querySelectorAll("input, select, textarea");t.forEach(e=>e.disabled=!1)}